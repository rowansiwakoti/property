{%extends 'base.html' %}
{% load humanize %}

{% block title %} | Welcome {% endblock %}
{% block content %}
<!-- Showcase -->
<section id="showcase">
    <div class="container text-center">
        <div class="home-search p-5">
            <div class="overlay p-5">
                <h1 class="display-4 mb-4">
                    <!-- Property Searching Just Got So Easy -->
                    Real Estate Redefined: Discover Your Next Property Adventure with us
                </h1>
                <!-- <p class="lead">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Recusandae quas, asperiores
                    eveniet vel nostrum magnam
                    voluptatum tempore! Consectetur, id commodi!</p> -->
                <div class="search">
                    <!-- Replace the URL in the form action -->
                    <form action="{% url 'search' %}">
                        <!-- Form Row 1 -->
                        <div class="row">
                            
                            <div class="col-md-4 mb-3">
                                <select class="form-control" placeholder="Purpose" name="purpose">
                                    <option selected="true" disabled="disabled">Purpose</option>
                                    <option value="buy">Buy</option>
                                    <option value="sell">Sell</option>
                                    <option value="rent">Rent</option>
                                </select>
                            </div>

                            <div class="col-md-4 mb-3">
                                    <select class="form-control" placeholder="select property type" name="property_type">
                                        <option selected="true" disabled="disabled">Property Type</option>
                                        <option value="apartments">Apartments</option>
                                        <option value="penthouses">Penthouses</option>
                                        <option value="houses">Houses</option>
                                        <option value="villas">Villas</option>
                                        <option value="residential_plots">Residential Plots</option>
                                    </select>
                            </div>

                            <div class="col-md-4 mb-3">
                                <select name="bedrooms" class="form-control">
                                    <option selected="true" disabled="disabled">Bedrooms</option>
                                    {% for key,value in bedroom_choices %}

                                    <option value="{{ key }}">{{ value }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <!-- Form Row 2 -->
                        <div class="row">
                            <div class="col-md-6 mb-3 form-outline">
                                <input type="number" name="min_price" class="form-control" placeholder="Min Price (Rs.)"/>
                            </div>
                            <div class="col-md-6 mb-3">
                                <input type="number" name="max_price" class="form-control" placeholder="Max Price (Rs.)"/>
                            </div>
                        </div>
                        <button class="btn btn-secondary d-block w-100" type="submit">Search Property</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Alerts -->
{% include 'partials/_alerts.html' %}
<!-- Listings -->
<section id="listings" class="py-4">
    <div class="container">
        <h3 class="text-center mb-3">Recently Added Properties</h3>
        <div class="row">
            {% if listings %}
            {% for listing in listings %}
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card listing-preview">
                <div class="property-card">
                    <div class="box">
                      <div class="top">
                        <!-- <a href="{% url 'listing' listing.id %}" class="btn btn-primary d-block w-100">
                        </a> -->
                          <img class="card-img-top" src="{{ listing.photo_main.url }}" alt="">
                          <div class="card-img-overlay">
                              <span class="badge bg-secondary text-white">Rs.{{ listing.price | intcomma }}</span>
                          </div>

                      </div>
                      <div class="bottom">
                        <h3 class="text-truncate">{{ listing.title }}</h3>
                        <p class="text-truncate">
                          {{ listing.description }}
                        </p>
                        <div class="advants">
                          <div>
                            <span>Bedrooms</span>
                            <div><i class="fas fa-bed"></i><span>{{ listing.bedrooms }}</span></div>
                          </div>
                          <div>
                            <span>Bathrooms</span>
                            <div><i class="fas fa-bath"></i><span>{{ listing.bathrooms }}</span></div>
                          </div>
                          <div>
                            <span>Area</span>
                            <div>
                              <i class="fas fa-vector-square"></i
                              ><span>{{ listing.sqft }}<span>Sqft</span></span>
                            </div>
                          </div>
                        </div>
                        <div class="price">
                          <span>For {{ listing.purpose }}</span>
                          <i class="fas fa-clock"></i> {{ listing.list_date | timesince }}
                        </div>
                      </div>
                    </div>
                  </div>
            </div>
        </div>

            {% endfor %}

            {% else %}
            <div class="col-md-12">
                <p>No Listings Available</p>
            </div>

            {% endif %}
        </div>
    </div>
</section>

<section id="services" class="py-5 bg-secondary text-white">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-4">
                <i class="fas fa-comment fa-4x me-4"></i>
                <hr>
                <h3>Consulting Services</h3>
                <p class="text-justify">
                    We are proud to offer comprehensive consulting services for property buyers, sellers, and renters.
                    We begin by conducting a thorough assessment of your situation, taking into account your budget, location preferences, and specific requirements. 
                    Based on this assessment, we provide expert advice and recommendations on the best properties available on the market. 
                </p>
            </div>
            <div class="col-md-4">
                <i class="fas fa-home fa-4x me-4"></i>
                <hr>
                <h3>Property Management</h3>
                <p class="text-justify">
                    We offer a comprehensive property management service for our customers looking to sell, buy or rent their properties, including apartments, houses, penthouses, residential plots and villas.
                    Our goal is to make the process of managing your properties as easy and stress-free as possible. Contact us today to learn more about how we can help you manage your properties.
                </p>
            </div>
            <div class="col-md-4">
                <i class="fas fa-suitcase fa-4x me-4"></i>
                <hr>
                <h3>Renting, Selling & Buying</h3>
                <p class="text-justify">
                    We are here to assist you with all your property needs, whether you are looking to buy, sell or rent a property. 
                    We will guide you through the process of buying, selling or renting a property, providing you with all the necessary information and support to make an informed decision. 
                    Contact us to learn more about how we can help you with buying, selling or renting properties.
                </p>
            </div>
        </div>
    </div>
</section>
{% endblock %}